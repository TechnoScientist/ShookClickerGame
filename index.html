<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Shook Clicker</title>
        <script src="https://cdn.jsdelivr.net/npm/phaser-ce@2.9.1/build/phaser.js"></script>
    </head>
    <body>

    <script type="text/javascript">
      var game = new Phaser.Game(1920, 1080, Phaser.AUTO, '', { preload: preload, create: create, update: update });

      var clicks = 0;
      var cps = 0;
      var scoreText;
      var scorePerSec;

      var priceStudents = 50;
      var studentsOwned = 0;
      function preload()
      {
        game.load.image('bgImg', 'assets/shookClickerBG.png')
        game.load.image('clicker', 'assets/cookie.png');
        game.load.image('mouse', 'assets/mouse.jpg');

      }

      function create()
      {
        //create sprites
      var bgImg = game.add.sprite(0,0, 'bgImg');

      var clicker = game.add.sprite(game.world.centerX,game.world.centerY, 'clicker' );
      var mouse = game.add.sprite(game.world.centerX + 70, game.world.centerY + 20, 'mouse' );

      //shop prop
      mouse.scale.setTo(.3, .3);
      //clicker prop
      clicker.anchor.set(0.5);
      clicker.scale.setTo(.09,.09);
      clicker.inputEnabled = true;
      mouse.inputEnabled = true;
      //game.input.mouse.capture = true;
      scoreText = game.add.text(16,16, "Computers Built: 0", {fontSize:"32px", fill: '#555'});
      scorePerSec = game.add.text(16, 60, "Computers Per Second: 0", {fontSize: "16px", fill: '#555'});

      //click listeners
      mouse.events.onInputDown.add(shop, this);
      clicker.events.onInputDown.add(listener, this);
      //1 second loop event
      game.time.events.loop(Phaser.Timer.SECOND, updateLooper, this);
      }

      function update()
      {

        scoreText.text = "Computers Built: " + clicks;
        scorePerSec.text = "Computers Per Second: " + cps;

      }
      //run every second
      function updateLooper()
      {
        clicks += cps;
      }
      function listener()
      {
        clicks++;

      }
      function shop(sprite, button)
      {
        if(clicks >= priceStudents)
        {
          clicks -= 50;
          cps += 2;
          studentsOwned++;
          priceStudents += studentsOwned*.5;

        }
      }

  </script>
  </body>
</html>
